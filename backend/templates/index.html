{% extends 'base.html' %}

{% block title %}Inicio - AppLab{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-5">
    <div>
        <h1 class="display-5 fw-bold mb-3">Bienvenido a AppLab</h1>
    </div>
    <div>
        <button type="button" class="btn btn-outline-danger" data-bs-toggle="modal" data-bs-target="#resetearDBModal">
            <i class="bi bi-trash3"></i> Resetear Base de Datos
        </button>
    </div>
</div>

<div class="row g-4">
    <div class="col-md-3">
        <div class="card text-center h-100">
            <div class="card-body">
                <i class="bi bi-upload" style="font-size: 3rem; color: #3498db;"></i>
                <h5 class="card-title mt-3">Cargar Archivos</h5>
                <p class="card-text text-muted">Importa archivos de inventario y recetas desde Excel o CSV.</p>
                <a href="{{ url_for('cargar') }}" class="btn btn-outline-primary">Ir a Cargar</a>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card text-center h-100">
            <div class="card-body">
                <i class="bi bi-box-seam" style="font-size: 3rem; color: #3498db;"></i>
                <h5 class="card-title mt-3">Ver Stock</h5>
                <p class="card-text text-muted">Consulta el inventario disponible con fechas de vencimiento.</p>
                <a href="{{ url_for('stock') }}" class="btn btn-outline-primary">Ver Stock</a>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card text-center h-100">
            <div class="card-body">
                <i class="bi bi-book" style="font-size: 3rem; color: #3498db;"></i>
                <h5 class="card-title mt-3">Ver Recetas</h5>
                <p class="card-text text-muted">Revisa las recetas y sus componentes necesarios.</p>
                <a href="{{ url_for('recetas') }}" class="btn btn-outline-primary">Ver Recetas</a>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card text-center h-100">
            <div class="card-body">
                <i class="bi bi-calculator" style="font-size: 3rem; color: #3498db;"></i>
                <h5 class="card-title mt-3">Calcular Producción</h5>
                <p class="card-text text-muted">Verifica si puedes producir las recetas con tu stock actual.</p>
                <a href="{{ url_for('produccion') }}" class="btn btn-outline-primary">Calcular</a>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="resetearDBModal" tabindex="-1" aria-labelledby="resetearDBModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header bg-danger text-white">
                <h5 class="modal-title" id="resetearDBModalLabel">⚠️ Resetear Base de Datos</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p class="text-danger fw-bold">La base de datos será recreada desde cero.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                <form action="{{ url_for('resetear_db') }}" method="post" style="display: inline;">
                    <button type="submit" class="btn btn-danger">Sí, resetear todo</button>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}